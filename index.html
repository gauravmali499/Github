<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css"> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
    <link rel="shortcut icon" href="image/radixlogo.jpg" type="image/x-icon"> 
    <title>Registration Form</title>
</head>
<body>
    <h1 id="upper">Registration Form</h1>

    <div class="form">
        <form id="userForm" action="/submit" method="post">
            <div class="data">
                <label for="name" id="fontDesign">Name: </label>
                <input type="text" id="name" name="name" placeholder="Your Name"> <span id="span1"></span><br>
            </div>
          
            <div class="data">
                <label for="dob" id="fontDesign">Date of Birth: </label>
                <input type="date" id="dob" name="dob" max="2005-02-02" ><span id="span2"></span><br>
            </div>

            <div class="data">
                <label for="email" id="fontDesign">Email-id: </label>
                <input type="email" id="email" name="email" placeholder="Your Email"><span id="span2a"></span><br>
            </div>
           
            <div class="data">
                <!-- <label for="gender">Gender: </label>
                <select name="gender" id="gender">
                <option value="none">Your Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                </select><span id="span3"></span><br> -->
                <label for="gender" id="fontDesign">Gender: </label>
                <input type="radio" id="gender" name="gender" value="Male" checked>
                <label for="male">Male</label>
                <input type="radio" id="gender" name="gender" value="Female">
                <label for="female">Female</label>

            </div>
            
            <div class="data">
                <label for="state" id="fontDesign">State: </label>
                <select name="state" id="state" onchange="data()">
                    <option value="none">Enter Your State</option>
                    <option value="Gujarat">Gujarat</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Maharastra">Maharastra</option>
                    <option value="Karnataka">Karnataka</option>

                </select><span id="span4"></span><br>
            </div>
            
            <div class="data">
                <label for="city" id="fontDesign">City: </label>
                <select name="city" id="city">
                    <option value="none">Enter Your City</option>
                </select><span id="span5"></span><br>
            </div>

            <input type="button" value="Submit" class="btn btn-outline-secondary" onclick="submitForm()">
        </form> 
    </div>

    <h1 id="records">Submitted Records</h1>

    <table id="userData" class="table table-bordered" border="1">
        <tr>
            <th>Name</th>
            <th>Date of Birth</th>
            <th>Email</th>
            <th>Gender</th>
            <th>State</th>
            <th>City</th>
        </tr>
    </table>

    <script>
        function submitForm(){
            var name = document.getElementById("name").value;
            var dob = document.getElementById("dob").value;
            var email = document.getElementById("email").value;
            var gender = document.getElementsByName("gender");
            var state = document.getElementById("state").value;
            var city = document.getElementById("city").value;

            let genderValue;
            for (let index = 0; index < gender.length; index++) {
                if (gender[index].checked) {
                    genderValue = gender[index].value;
                }             
            }

            let flag1 = 0;
            for(let i = 0; i < email.length; i++){
                if(email[i] == "@"){
                    flag1 = 1;
                }
                if(email[i] == "."){
                    flag1 = 1;
                }
            }
            if (flag1 == 0) {
                alert("email-id is not valid.");
            }

            let flag = 0;

            if (name == "") {
                document.getElementById("span1").innerHTML="*required";
                flag = 1;
            }
            if (dob == ""){
                document.getElementById("span2").innerHTML=" *required";
                flag = 1;
            }
            if (email == ""){
                document.getElementById("span2a").innerHTML=" *required";
                flag = 1;
            }
            if (gender == ""){
                document.getElementById("span3").innerHTML=" *required";
                flag = 1;
            }
            if (state == "none"){
                document.getElementById("span4").innerHTML=" *required";
                flag = 1;
            }
            if (city == "none"){
                document.getElementById("span5").innerHTML=" *required";
                flag = 1;
            }
            if(flag == 0){
                var table = document.getElementById("userData");
                var newRow = table.insertRow(table.rows.length);

                cells = [name, dob, email, genderValue, state, city];
                for(var i= 0; i < cells.length; i++){
                    var cell = newRow.insertCell(i);
                    cell.innerHTML = cells[i];
                }
                document.getElementById("userForm").reset();
            }
            
        }
</script>
<script>
        function data(){
            var stateName = document.getElementById("state").value;

            if(stateName == "Gujarat"){
                document.getElementById("city").innerHTML="<option value='Ahmedabad'>Ahmedabad</option> <option value='Gandhinagar'>Gandhinagar</option> <option value='Surat'>Surat</oprion>";
            } else if(stateName == "Delhi"){
                document.getElementById("city").innerHTML="<option value='New Delhi'>New Delhi</option> <option value='Lal Kot'>Lal Kot</option> <option value='Siri'>Siri</oprion>";
            } else if(stateName == "Rajasthan"){
                document.getElementById("city").innerHTML="<option value='Jaipur'>Jaipur</option> <option value='Kota'>Kota</option> <option value='Mount-Abu'>Mount-Abu</oprion>";
            } else if(stateName == "Maharastra"){
                document.getElementById("city").innerHTML="<option value='Mumbai'>Mumbai</option> <option value='Pune'>Pune</option> <option value='Nagpur'>Nagpur</oprion>";
            } else if(stateName == "Karnataka"){
                document.getElementById("city").innerHTML="<option value='Bengaluru'>Bengaluru</option> <option value='Mysore'>Mysore</option> <option value='Mangalore'>Mangalore</oprion>";
            }    
        }
    </script>
</body>
</html>